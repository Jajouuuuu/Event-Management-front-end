<div class="page-wrapper">
  <app-top-bar></app-top-bar>
  <div class="container">
    <hr class="w-25 mx-auto border-black">
    <h3 style="font-family: 'Inner', sans-serif; text-align: center;">Create Event</h3>
    <hr class="w-25 mx-auto border-black">
    <form [formGroup]="createEventForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="title">Title</label>
        <input id="title" class="form-control"
               formControlName="title"
               [class.is-invalid]="createEventForm.get('title')?.touched && createEventForm.get('title')?.invalid"
               [class.is-valid]="createEventForm.get('title')?.valid && createEventForm.get('title')?.touched" />
        <div *ngIf="createEventForm.get('title')?.touched && createEventForm.get('title')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('title')?.errors?.['required']">Title is required.</div>
          <div *ngIf="createEventForm.get('title')?.errors?.['minlength']">Title must be at least 10 characters long.</div>
        </div>
        <div *ngIf="createEventForm.get('title')?.valid && createEventForm.get('title')?.touched" class="valid-feedback">
          Title looks good!
        </div>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" class="form-control"
                  formControlName="description"
                  [class.is-invalid]="createEventForm.get('description')?.touched && createEventForm.get('description')?.invalid"
                  [class.is-valid]="createEventForm.get('description')?.valid && createEventForm.get('description')?.touched"></textarea>
        <div *ngIf="createEventForm.get('description')?.touched && createEventForm.get('description')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('description')?.errors?.['required']">Description is required.</div>
          <div *ngIf="createEventForm.get('description')?.errors?.['maxlength']">Description cannot be more than 2500 characters long.</div>
          <div *ngIf="createEventForm.get('description')?.errors?.['minlength']">Description must be at least 100 characters long.</div>
        </div>
        <div *ngIf="createEventForm.get('description')?.valid && createEventForm.get('description')?.touched" class="valid-feedback">
          Description looks good!
        </div>
      </div>
      <div class="form-group">
        <label for="date">Date</label>
        <input type="date" id="date" class="form-control" formControlName="date" [class.is-invalid]="createEventForm.get('date')?.touched && createEventForm.get('date')?.invalid" />
        <div *ngIf="createEventForm.get('date')?.touched && createEventForm.get('date')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('date')?.errors?.['required']">Date is required.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="time">Time</label>
        <input type="time" id="time" class="form-control" formControlName="time" [class.is-invalid]="createEventForm.get('time')?.touched && createEventForm.get('time')?.invalid" />
        <div *ngIf="createEventForm.get('time')?.touched && createEventForm.get('time')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('time')?.errors?.['required']">Time is required.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="location">Location</label>
        <input id="location" class="form-control" formControlName="location" [class.is-invalid]="createEventForm.get('location')?.touched && createEventForm.get('location')?.invalid" />
        <div *ngIf="createEventForm.get('location')?.touched && createEventForm.get('location')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('location')?.errors?.['required']">Location is required.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" class="form-control" formControlName="category" [class.is-invalid]="createEventForm.get('category')?.touched && createEventForm.get('category')?.invalid">
          <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
        </select>
        <div *ngIf="createEventForm.get('category')?.touched && createEventForm.get('category')?.invalid" class="invalid-feedback">
          <div *ngIf="createEventForm.get('category')?.errors?.['required']">Category is required.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="image">Image</label>
        <input type="file" id="image" class="form-control" (change)="onFileChange($event)" />
        <div *ngIf="!selectedFile" class="invalid-feedback">Image is required.</div>
      </div>
        <button type="submit" class="btn btn-primary" [disabled]="!createEventForm.valid">Create Event</button>
    </form>
  </div>
</div>
<app-footer></app-footer>
